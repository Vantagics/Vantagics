@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== 统一配色系统 - 清新、简洁、专业 ========== */
:root {
    /* 主色调 - 柔和的蓝灰色系 (参考左侧面板风格) */
    --color-primary: #5b7a9d;
    --color-primary-light: #7b9bb8;
    --color-primary-dark: #456a8a;
    --color-primary-50: #f0f4f8;
    --color-primary-100: #dce5ef;
    --color-primary-200: #b8cade;
}

input, textarea {
    user-select: text !important;
    -webkit-user-select: text !important;
}

/* ========== 全局配色统一覆盖 - 将蓝色系映射到统一色调 ========== */
/* 主要操作按钮 */
.bg-blue-500,
.bg-blue-600 { background-color: var(--color-primary) !important; }
.bg-blue-700 { background-color: var(--color-primary-dark) !important; }
.hover\:bg-blue-600:hover { background-color: var(--color-primary) !important; }
.hover\:bg-blue-700:hover { background-color: var(--color-primary-dark) !important; }

/* 焦点环 */
.ring-blue-500,
.focus\:ring-blue-500:focus { --tw-ring-color: var(--color-primary) !important; }

/* 文字色 */
.text-blue-400 { color: var(--color-primary-light) !important; }
.text-blue-500 { color: var(--color-primary-light) !important; }
.text-blue-600 { color: var(--color-primary) !important; }
.text-blue-700,
.text-blue-800,
.text-blue-900 { color: var(--color-primary-dark) !important; }

/* 文字 hover 色 */
.hover\:text-blue-300:hover { color: var(--color-primary-light) !important; }
.hover\:text-blue-600:hover { color: var(--color-primary) !important; }
.hover\:text-blue-700:hover,
.hover\:text-blue-800:hover { color: var(--color-primary-dark) !important; }

/* group-hover 文字色 (Tailwind: .group:hover .group-hover\:xxx) */
.group:hover .group-hover\:text-blue-500 { color: var(--color-primary-light) !important; }
.group:hover .group-hover\:text-blue-600 { color: var(--color-primary) !important; }
.group:hover .group-hover\:bg-blue-100 { background-color: var(--color-primary-100) !important; }

/* 边框色 */
.border-blue-100 { border-color: var(--color-primary-100) !important; }
.border-blue-200,
.border-blue-300 { border-color: var(--color-primary-200) !important; }
.border-blue-400 { border-color: var(--color-primary-light) !important; }
.hover\:border-blue-300:hover { border-color: var(--color-primary-200) !important; }
.hover\:border-blue-400:hover { border-color: var(--color-primary-light) !important; }

/* 浅色背景 */
.bg-blue-50 { background-color: var(--color-primary-50) !important; }
.bg-blue-100 { background-color: var(--color-primary-100) !important; }
.hover\:bg-blue-50:hover { background-color: var(--color-primary-50) !important; }
.hover\:bg-blue-100:hover { background-color: var(--color-primary-100) !important; }

/* Indigo 系列映射到统一色调 */
.bg-indigo-50 { background-color: var(--color-primary-50) !important; }
.bg-indigo-100 { background-color: var(--color-primary-100) !important; }
.bg-indigo-600 { background-color: var(--color-primary) !important; }
.hover\:bg-indigo-100:hover { background-color: var(--color-primary-100) !important; }
.hover\:bg-indigo-700:hover { background-color: var(--color-primary-dark) !important; }
.border-indigo-100 { border-color: var(--color-primary-100) !important; }
.border-indigo-200 { border-color: var(--color-primary-200) !important; }
.text-indigo-500,
.text-indigo-600 { color: var(--color-primary) !important; }
.text-indigo-700,
.text-indigo-800 { color: var(--color-primary-dark) !important; }

@keyframes progress-indeterminate {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(300%); }
  100% { transform: translateX(-100%); }
}

.animate-progress-indeterminate {
  animation: progress-indeterminate 2s infinite ease-in-out;
}

/* Dark mode base styles - Visual Studio 风格深黑色调 */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: #1e1e1e;
  color: #d4d4d4;
}

/* Dark mode for common elements */
.dark .bg-white {
  background-color: #252526 !important;
}

/* 消息气泡特定深色样式 - 确保覆盖内联样式 */
.dark [class*="bg-white"][class*="border"][class*="rounded"] {
  background-color: #252526 !important;
  border-color: #3c3c3c !important;
}

.dark .bg-slate-50 {
  background-color: #1e1e1e !important;
}

.dark .bg-slate-100 {
  background-color: #252526 !important;
}

.dark .bg-slate-200 {
  background-color: #2d2d30 !important;
}

.dark .bg-slate-300 {
  background-color: #3c3c3c !important;
}

.dark .text-slate-900,
.dark .text-slate-800,
.dark .text-slate-700 {
  color: #d4d4d4 !important;
}

.dark .text-slate-600,
.dark .text-slate-500 {
  color: #9d9d9d !important;
}

.dark .text-slate-400 {
  color: #808080 !important;
}

.dark .border-slate-200,
.dark .border-slate-300 {
  border-color: #3c3c3c !important;
}

.dark .border-slate-100 {
  border-color: #2d2d30 !important;
}

/* Dark mode for inputs */
.dark input,
.dark textarea,
.dark select {
  background-color: #3c3c3c !important;
  border-color: #4d4d4d !important;
  color: #d4d4d4 !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #808080 !important;
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  border-color: #5b8ab5 !important;
  outline: none !important;
}

/* Dark mode for modals */
.dark .bg-black\/50 {
  background-color: rgba(0, 0, 0, 0.75) !important;
}

/* Dark mode for cards and panels */
.dark .shadow-md,
.dark .shadow-lg,
.dark .shadow-xl {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5), 0 2px 4px rgba(0, 0, 0, 0.4) !important;
}

/* Dark mode for hover states */
.dark .hover\:bg-slate-100:hover {
  background-color: #2d2d30 !important;
}

.dark .hover\:bg-slate-200:hover {
  background-color: #3c3c3c !important;
}

/* VS Code 风格选中/激活状态 */
.dark .bg-blue-500,
.dark .bg-blue-600 {
  background-color: #5b7a9d !important;
}

.dark .ring-blue-500 {
  --tw-ring-color: #5b7a9d !important;
}

/* ========== 仪表盘组件深色配色 - VS Code 风格 ========== */

/* 关键指标 - VS Code 蓝色调 */
.dark .bg-blue-50 {
  background-color: #1a2332 !important;
}

.dark .bg-blue-100 {
  background-color: #1e3a5f !important;
}

.dark .text-blue-700,
.dark .text-blue-600 {
  color: #569cd6 !important;
}

.dark .border-blue-200,
.dark .border-blue-100 {
  border-color: #264f78 !important;
}

/* 数据图表 - VS Code 绿色调 */
.dark .bg-green-50 {
  background-color: #1e2a1e !important;
}

.dark .bg-green-100 {
  background-color: #2d3d2d !important;
}

.dark .text-green-700,
.dark .text-green-600 {
  color: #6a9955 !important;
}

.dark .border-green-200,
.dark .border-green-100 {
  border-color: #3d5a3d !important;
}

/* 自动洞察 - VS Code 紫色调 */
.dark .bg-purple-50 {
  background-color: #2a1e2e !important;
}

.dark .bg-purple-100 {
  background-color: #3d2d42 !important;
}

.dark .text-purple-700,
.dark .text-purple-600 {
  color: #c586c0 !important;
}

.dark .border-purple-200,
.dark .border-purple-100 {
  border-color: #5a3d5f !important;
}

/* 数据表格 - VS Code 黄色/暖色调 */
.dark .bg-amber-50,
.dark .bg-orange-50 {
  background-color: #2a2620 !important;
}

.dark .bg-amber-100,
.dark .bg-orange-100 {
  background-color: #3d3830 !important;
}

.dark .text-amber-700,
.dark .text-amber-600,
.dark .text-orange-700,
.dark .text-orange-600 {
  color: #dcdcaa !important;
}

.dark .border-amber-200,
.dark .border-orange-200 {
  border-color: #5a5040 !important;
}

/* 图片展示 - VS Code 青色调 */
.dark .bg-cyan-50 {
  background-color: #1e2a2e !important;
}

.dark .bg-cyan-100 {
  background-color: #2d3d42 !important;
}

.dark .text-cyan-700,
.dark .text-cyan-600 {
  color: #4ec9b0 !important;
}

.dark .border-cyan-200,
.dark .border-cyan-100 {
  border-color: #3d5a5f !important;
}

/* 文件下载 - VS Code 靛蓝色调 */
.dark .bg-indigo-50 {
  background-color: #1e1e2e !important;
}

.dark .bg-indigo-100 {
  background-color: #2d2d42 !important;
}

.dark .text-indigo-700,
.dark .text-indigo-600 {
  color: #9cdcfe !important;
}

.dark .border-indigo-200,
.dark .border-indigo-100 {
  border-color: #3d3d5a !important;
}

/* 错误/警告 - VS Code 红色调 */
.dark .bg-red-50 {
  background-color: #2e1e1e !important;
}

.dark .bg-red-100 {
  background-color: #422d2d !important;
}

.dark .text-red-700,
.dark .text-red-600 {
  color: #f14c4c !important;
}

.dark .border-red-200,
.dark .border-red-100 {
  border-color: #5a3d3d !important;
}

/* Dark mode scrollbar - VS Code 风格 */
.dark ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.dark ::-webkit-scrollbar-track {
  background: #1e1e1e;
}

.dark ::-webkit-scrollbar-thumb {
  background: #424242;
  border-radius: 0;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #4f4f4f;
}

.dark ::-webkit-scrollbar-corner {
  background: #1e1e1e;
}

/* 仪表盘特定组件深色样式 */
.dark .rounded-xl {
  border-color: #3c3c3c;
}

/* 按钮深色样式 - VS Code 风格 */
.dark .hover\:bg-blue-100:hover {
  background-color: #1e3a5f !important;
}

.dark .hover\:bg-green-100:hover {
  background-color: #2d3d2d !important;
}

.dark .hover\:bg-purple-100:hover {
  background-color: #3d2d42 !important;
}

.dark .hover\:bg-amber-100:hover {
  background-color: #3d3830 !important;
}

.dark .hover\:bg-cyan-100:hover {
  background-color: #2d3d42 !important;
}

.dark .hover\:bg-indigo-100:hover {
  background-color: #2d2d42 !important;
}

/* VS Code 风格列表项 hover */
.dark .hover\:bg-gray-100:hover,
.dark .hover\:bg-gray-50:hover {
  background-color: #2a2d2e !important;
}

/* VS Code 风格分割线 */
.dark .divide-slate-200 > :not([hidden]) ~ :not([hidden]),
.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #3c3c3c !important;
}

/* VS Code 风格标签页 */
.dark .border-b-2 {
  border-bottom-color: #5b7a9d !important;
}

/* VS Code 风格代码块背景 */
.dark pre,
.dark code {
  background-color: #1e1e1e !important;
  color: #d4d4d4 !important;
}

/* VS Code 风格徽章 */
.dark .bg-gray-100 {
  background-color: #3c3c3c !important;
}

.dark .bg-gray-200 {
  background-color: #4d4d4d !important;
}

.dark .text-gray-700,
.dark .text-gray-600 {
  color: #cccccc !important;
}

.dark .text-gray-500,
.dark .text-gray-400 {
  color: #808080 !important;
}

/* ========== 消息气泡深色模式样式 ========== */

/* AI 消息气泡 - 深色背景 */
.dark .ring-slate-50 {
  --tw-ring-color: #3c3c3c !important;
}

/* 消息气泡内的 prose 样式 */
.dark .prose {
  color: #d4d4d4 !important;
}

.dark .prose-sm {
  color: #d4d4d4 !important;
}

/* 消息气泡内的表格深色样式 */
.dark .prose table {
  border-color: #3c3c3c !important;
}

.dark .prose th {
  background-color: #2d2d30 !important;
  border-color: #3c3c3c !important;
  color: #d4d4d4 !important;
}

.dark .prose td {
  border-color: #3c3c3c !important;
  color: #d4d4d4 !important;
}

.dark .prose tr:nth-child(even) {
  background-color: #252526 !important;
}

.dark .prose tr:nth-child(odd) {
  background-color: #1e1e1e !important;
}

/* MessageBubble 内表格深色样式 */
.dark table.min-w-full {
  border-color: #3c3c3c !important;
}

.dark table.min-w-full thead tr {
  background-color: #1a2332 !important;
}

.dark table.min-w-full th {
  background-color: #1a2332 !important;
  border-color: #3c3c3c !important;
  color: #d4d4d4 !important;
}

.dark table.min-w-full td {
  border-color: #3c3c3c !important;
  color: #d4d4d4 !important;
}

.dark table.min-w-full tbody tr:nth-child(even) {
  background-color: #252526 !important;
}

.dark table.min-w-full tbody tr:nth-child(odd) {
  background-color: #1e1e1e !important;
}


/* ========== 右键菜单深色模式 ========== */
.dark-context-menu {
  background-color: white;
  border: 1px solid #e2e8f0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.dark .dark-context-menu {
  background-color: #252526 !important;
  border-color: #3c3c3c !important;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5) !important;
}

.context-menu-header {
  border-bottom: 1px solid #e2e8f0;
  background-color: #f8fafc;
}

.dark .context-menu-header {
  border-bottom-color: #3c3c3c !important;
  background-color: #2d2d30 !important;
}

.context-menu-label {
  color: #64748b;
}

.dark .context-menu-label {
  color: #808080 !important;
}

.context-menu-text {
  color: #1e293b;
}

.dark .context-menu-text {
  color: #d4d4d4 !important;
}

.context-menu-btn {
  color: #1e293b;
  background-color: white;
}

.context-menu-btn:hover {
  background-color: var(--color-primary-50, #f0f4f8);
  color: var(--color-primary, #5b7a9d);
}

.dark .context-menu-btn {
  color: #d4d4d4 !important;
  background-color: #252526 !important;
}

.dark .context-menu-btn:hover {
  background-color: #2d2d30 !important;
  color: #569cd6 !important;
}

.context-menu-btn-danger {
  color: #dc2626;
  border-top: 1px solid #e2e8f0;
}

.context-menu-btn-danger:hover {
  background-color: #fef2f2;
  color: #b91c1c;
}

.dark .context-menu-btn-danger {
  color: #f14c4c !important;
  border-top-color: #3c3c3c !important;
}

.dark .context-menu-btn-danger:hover {
  background-color: #2e1e1e !important;
  color: #f14c4c !important;
}

.context-menu-btn-warning {
  color: #ea580c;
  border-top: 1px solid #e2e8f0;
}

.context-menu-btn-warning:hover {
  background-color: #fff7ed;
  color: #c2410c;
}

.dark .context-menu-btn-warning {
  color: #dcdcaa !important;
  border-top-color: #3c3c3c !important;
}

.dark .context-menu-btn-warning:hover {
  background-color: #2a2620 !important;
  color: #dcdcaa !important;
}

/* ========== 模态框深色模式 ========== */
.dark .bg-white.rounded-xl.shadow-2xl,
.dark .bg-white.rounded-xl.shadow-2xl.overflow-hidden {
  background-color: #252526 !important;
  color: #d4d4d4 !important;
}

/* Toast 深色模式 */
.dark .bg-green-50.border-green-200 {
  background-color: #1e2a1e !important;
  border-color: #3d5a3d !important;
}

.dark .bg-green-50.border-green-200 .text-green-800 {
  color: #6a9955 !important;
}

.dark .bg-amber-50.border-amber-200 {
  background-color: #2a2620 !important;
  border-color: #5a5040 !important;
}

.dark .bg-amber-50.border-amber-200 .text-amber-800 {
  color: #dcdcaa !important;
}

.dark .bg-red-50.border-red-200 {
  background-color: #2e1e1e !important;
  border-color: #5a3d3d !important;
}

.dark .bg-red-50.border-red-200 .text-red-800 {
  color: #f14c4c !important;
}

.dark .bg-blue-50.border-blue-200 {
  background-color: #1a2332 !important;
  border-color: #264f78 !important;
}

.dark .bg-blue-50.border-blue-200 .text-blue-800 {
  color: #569cd6 !important;
}

/* ========== AnalysisStatusIndicator 深色模式 ========== */
.dark .border-blue-200.border-t-blue-600 {
  border-color: #264f78 !important;
  border-top-color: #5b7a9d !important;
}

/* ========== ChartModal 深色模式 ========== */
.dark .bg-white.rounded-xl.p-8 {
  background-color: #252526 !important;
}

/* ========== ResizeHandle 深色模式 ========== */
.dark .resize-handle div {
  --resize-handle-bg: #3c3c3c;
  --resize-handle-hover-bg: #808080;
  --resize-handle-active-bg: #5b7a9d;
}

/* Yellow warning backgrounds */
.dark .bg-yellow-50 {
  background-color: #2a2620 !important;
}

.dark .border-yellow-200 {
  border-color: #5a5040 !important;
}

.dark .text-yellow-800 {
  color: #dcdcaa !important;
}

/* Additional text color overrides */
.dark .text-yellow-900 {
  color: #dcdcaa !important;
}

.dark .text-red-800,
.dark .text-red-900 {
  color: #f14c4c !important;
}

.dark .text-green-800 {
  color: #6a9955 !important;
}

.dark .text-blue-800,
.dark .text-blue-900 {
  color: #569cd6 !important;
}

.dark .text-orange-800 {
  color: #dcdcaa !important;
}

.dark .text-purple-800 {
  color: #c586c0 !important;
}

/* Optimization status badges */
.dark .text-green-700.bg-green-100 {
  background-color: #2d3d2d !important;
  color: #6a9955 !important;
}

.dark .border-green-300 {
  border-color: #3d5a3d !important;
}

.dark .border-slate-300 {
  border-color: #4d4d4d !important;
}

/* hover:bg-slate-50 */
.dark .hover\:bg-slate-50:hover {
  background-color: #2d2d30 !important;
}

/* bg-white/80 透明白色 */
.dark .bg-white\/80 {
  background-color: rgba(37, 37, 38, 0.8) !important;
}

/* bg-slate-50/30 半透明 */
.dark .bg-slate-50\/30 {
  background-color: rgba(30, 30, 30, 0.3) !important;
}

/* hover:bg-white/80 */
.dark .hover\:bg-white\/80:hover {
  background-color: rgba(45, 45, 48, 0.8) !important;
}

/* hover:bg-white/50 */
.dark .hover\:bg-white\/50:hover {
  background-color: rgba(45, 45, 48, 0.5) !important;
}

/* hover:bg-white/20 */
.dark .hover\:bg-white\/20:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* gradient overrides for dark mode */
.dark .from-blue-50 {
  --tw-gradient-from: #1a2332 !important;
}

.dark .to-blue-50 {
  --tw-gradient-to: #1a2332 !important;
}

.dark .from-indigo-50 {
  --tw-gradient-from: #1e1e2e !important;
}

.dark .to-indigo-50 {
  --tw-gradient-to: #1e1e2e !important;
}

.dark .from-purple-50 {
  --tw-gradient-from: #2a1e2e !important;
}

.dark .to-purple-50 {
  --tw-gradient-to: #2a1e2e !important;
}

.dark .from-slate-100 {
  --tw-gradient-from: #252526 !important;
}

.dark .via-slate-50 {
  --tw-gradient-via: #1e1e1e !important;
}

/* text-slate-900 for headings */
.dark .text-slate-900 {
  color: #d4d4d4 !important;
}

/* border-gray-200 */
.dark .border-gray-200 {
  border-color: #3c3c3c !important;
}

.dark .border-gray-300 {
  border-color: #4d4d4d !important;
}

/* text-gray-900 */
.dark .text-gray-900 {
  color: #d4d4d4 !important;
}

.dark .text-gray-800 {
  color: #d4d4d4 !important;
}

/* bg-gray-50 */
.dark .bg-gray-50 {
  background-color: #1e1e1e !important;
}

/* hover:bg-slate-300:hover */
.dark .hover\:bg-slate-300:hover {
  background-color: #4d4d4d !important;
}

/* hover:bg-blue-50 */
.dark .hover\:bg-blue-50:hover {
  background-color: #1a2332 !important;
}

/* hover:border-blue-300 */
.dark .hover\:border-blue-300:hover {
  border-color: #264f78 !important;
}

/* hover:border-slate-300 */
.dark .hover\:border-slate-300:hover {
  border-color: #4d4d4d !important;
}

/* hover:bg-red-100 */
.dark .hover\:bg-red-100:hover {
  background-color: #422d2d !important;
}

/* hover:bg-red-200 */
.dark .hover\:bg-red-200:hover {
  background-color: #5a3d3d !important;
}

/* hover:bg-green-200 */
.dark .hover\:bg-green-200:hover {
  background-color: #3d5a3d !important;
}

/* bg-slate-50/50 */
.dark .bg-slate-50\/50 {
  background-color: rgba(30, 30, 30, 0.5) !important;
}
